---
title: "Week03_Lecture_Code"
author: "Yanan Wu"
date: "2025-01-06"
output: html_document
  html_document:
    df_print: paged
    toc: TRUE
    toc_float: TRUE
---

```{r}
install.packages("conmat", repos = "https://idem-lab.r-universe.dev")
```

## Line graph

This dataset contains daily closing prices of major European stock indices.

```{r}
data("EuStockMarkets")

# Convert to a time series object
stocks <- as.data.frame(EuStockMarkets)

# Plot the line graph
plot(stocks$DAX, type = "l", col = "blue", lwd = 2,
     main = "DAX Stock Index (1991-1998)", xlab = "Days", ylab = "Index Value")
```
## Scatterplot

This dataset contains numerical measurements of sepal and petal length and width for three species of iris flowers.

```{r}
library(ggplot2)
data("iris")
ggplot(data = iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +
  geom_point(size = 3) +
  labs(title = "Sepal Length vs Sepal Width by Species")
```
## Histogram

This dataset contains daily air quality measurements from New York in 1973, including variables like temperature, wind speed, and ozone levels.

```{r}
data('airquality')
par(mfrow = c(2, 2))

# Define the break values
breaks_list <- c(3, 10, 20, 30)

# Loop through the break values and plot the histograms
for (i in breaks_list) {
  hist(airquality$Temp,
       breaks = i,
       main = paste("Histogram with", i, "Breaks"),
       xlab = "Temperature (Â°F)",
       col = "lightblue",
       border = "black")
}

```
## skewness

```{r}
set.seed(123)  # For reproducibility
left_skewed_data <- rbeta(1000, shape1 = 5, shape2 = 2)

# Plot a histogram to visualize the left-skewed data
hist(left_skewed_data, breaks = 20, col = "lightblue", main = "", xlab = "Values", freq = FALSE)

lines(density(left_skewed_data, na.rm = TRUE), 
      col = "red", 
      lwd = 2)
```
```{r}
data("airquality")
hist(na.omit(airquality$Ozone), 
     main = "", 
     xlab = "Ozone (ppb)", 
     col = "lightblue", 
     border = "black",
     breaks = 20,
     freq = FALSE)

lines(density(airquality$Ozone, na.rm = TRUE), 
      col = "red", 
      lwd = 2)
```

```{r}
data("iris")
hist(iris$Sepal.Length, 
     main = "", 
     xlab = "Sepal Length (cm)", 
     col = "lightblue", 
     border = "black",
     breaks = 20,
     freq = FALSE)

lines(density(iris$Sepal.Length, na.rm = TRUE), 
      col = "red", 
      lwd = 2)
```
## Outlier

```{r}
set.seed(123)
data_with_outlier <- c(rnorm(100, mean = 50, sd = 5), 120)  # Adding an outlier at 120

# Plot the histogram
hist(data_with_outlier, 
     main = "Histogram Showing Outlier", 
     xlab = "Values", 
     col = "lightblue", 
     border = "black")

# Highlight the outlier with a red vertical line
# abline(v = 120, col = "red", lwd = 2, lty = 2)
```
```{r}
library(plotly)

# Generate a large dataset with a normal distribution
set.seed(123)
large_data <- rnorm(10000, mean = 50, sd = 10)

# Convert the data to a data frame
data_frame <- data.frame(Values = large_data)

# Create an interactive histogram using Plotly
fig <- plot_ly(data_frame, x = ~Values, type = "histogram", nbinsx = 50) %>%
  layout(title = "Interactive Histogram of Normally Distributed Data",
         xaxis = list(title = "Values"),
         yaxis = list(title = "Frequency"))

# Display the interactive plot
fig
```

```{r}
library(tidyverse)
library(conmat)

```

```{r}
two_abs_age_lga <- function(lga_1, lga_2){
  bind_rows(
    abs_age_lga(lga_1),
    abs_age_lga(lga_2)
  )
}

melb_syd <- two_abs_age_lga("Melbourne (C)", "Sydney (C)")

melb_syd_pyramid <- melb_syd %>%
  mutate(
    population = case_when(
      lga == "Sydney (C)" ~ -population,
      TRUE ~ population
    ),
    lower.age.limit = as_factor(lower.age.limit)
  )

ggplot(melb_syd_pyramid,
         aes(x = population,
             y = lower.age.limit,
             fill = lga)) +
    geom_col() 
```
## Uni-modality distribution

```{r}
par(mfrow = c(1, 3))

set.seed(123)
unimodal_data <- rnorm(1000, mean = 50, sd = 10)

# Plot the histogram
hist(unimodal_data, 
     main = "", 
     xlab = "Values", 
     col = "lightblue", 
     border = "black")


bimodal_data <- c(rnorm(500, mean = 40, sd = 5), rnorm(500, mean = 60, sd = 5))

hist(multimodal_data, 
     main = "", 
     xlab = "Values", 
     col = "lightcoral", 
     border = "black")

# Plot the histogram
hist(bimodal_data, 
     main = "", 
     xlab = "Values", 
     col = "lightgreen", 
     border = "black")

multimodal_data <- c(rnorm(400, mean = 30, sd = 5), 
                     rnorm(400, mean = 50, sd = 5), 
                     rnorm(400, mean = 70, sd = 5))

# Plot the histogram


```
```{r}
nc["Area"]
```

```{r}
library(sf);library(leaflet)

par(mar = c(3, 4, 4, 8))

nc <- st_read(system.file("shape/nc.shp", package = "sf"))

my_palette <- colorRampPalette(c("yellow", "orange", "red"))

n_colors <- 5
nc$color <- my_palette(n_colors)[cut(nc$AREA, breaks = n_colors)]

# Plot the categorical variable
plot(nc['AREA'], 
     main = "Area of Each County in North Carolina",
     # col = sf.colors(10, categorical = FALSE),
     col = my_palette(5),
     border = 'black',
     axes = TRUE,
     key.pos = 1)

legend(x = 0.02, y = 0.45,      
       legend = round(seq(min(nc$AREA), max(nc$AREA), length.out = n_colors), 2), 
       fill = my_palette(n_colors), 
       title = "Area",
       cex = 0.9)

```
```{r}
districts = st_read('D:\\Teaching_Clark\\GitRepo\\Spring2025\\geog-247\\docs\\Lectures\\Week03\\Council\\Council_Boundaries.shp')

ggplot(data = districts) +
  geom_sf(aes(fill = districts$DISTRICT)) +  # Fill based on the categorical variable
  scale_fill_viridis_d(option = "C") +            # Use a discrete Viridis color palette
  theme_minimal()+
  labs(
    title = "Council in Dallas",
    fill = districts$DISTRICT
  )
```



















